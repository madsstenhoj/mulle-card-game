{"version":3,"sources":["logic/store.ts","components/PlayingCard/index.tsx","components/PileOfCards/index.tsx","components/PlayArea/index.tsx","components/Player/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["PlayerPiles","EventType","PileType","PlayingCard","inject","observer","props","backsideUp","cardId","store","useDrag","item","name","type","ItemTypes","CARD","end","monitor","dropResult","getDropResult","emitCardMove","Number","collect","isDragging","drag","card","getPlayingCard","value","ref","style","width","opacity","cursor","margin","Card","onClick","selectable","selectCard","height","src","alt","position","padding","fontWeight","border","borderRadius","color","top","right","number","textAlign","fontSize","PileOfCards","upperCardId","cardIds","length","undefined","displayTooltip","piled","Button","size","putCard","icon","title","paddingTop","selectedCardId","Group","Popup","flowing","trigger","content","map","takePileHome","inverted","itemsPerRow","sort","PlayArea","useDrop","accept","drop","isOver","getItem","getCardsForPile","backgroundColor","marginTop","PlayMaker","gameId","playerId","socket","WebSocket","init","cards","createDeck","shuffleCards","addPlayers","cardPiles","push","id","pileType","MAIN","i","PLAY_AREA","addEventListener","event","console","log","updateGameState","data","amount","values","colors","deck","points","getPointsForCard","getNumberForCard","temporaryValue","randomIndex","currentIndex","Math","floor","random","playerIndex","this","players","pointsInTotal","HAND","PLAYER","SVUPPER","POINTS","MULLE","currentCards","player","cardIdToBeSent","pop","cardPile","filter","toPile","CARD_MOVE","move","send","JSON","stringify","message","find","newPilePosition","pile","indexOf","fromPile","gameStateChange","parse","moveCardFromOnePileToAnother","e","observable","action","Player","Segment","Label","loosePoints","Grid","columns","Column","pointCardIds","mulleCardIds","svupperCardIds","concat","svuppereCardIds","Component","computed","App","changeDealAmount","input","dealAmount","getPlayerId","urlParts","window","location","href","split","param","DndProvider","backend","Backend","Header","as","dealCardsToAllPlayers","Input","onChange","divided","Row","Boolean","hostname","match","PlayMakerStore","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.befd8444.chunk.js","sourcesContent":["import { observable, action } from \"mobx\";\n\nexport interface IPlayingCard {\n  id: number;\n  value: string;\n  color: string;\n  points: number;\n  number: number;\n}\n\nexport interface IPlayer {\n  id: string;\n  name: string;\n  pointsInTotal: number;\n}\n\nexport enum PlayerPiles {\n  HAND = 0,\n  SVUPPER = 1,\n  MULLE = 2,\n  POINTS = 3\n}\n\nexport enum EventType {\n  CARD_MOVE = 0\n}\n\nexport enum PileType {\n  MAIN = 0,\n  PLAYER = 1,\n  PLAY_AREA = 2\n}\n\ninterface IGameStateMove {\n  toPile: string;\n  cardId: number;\n}\n\ninterface IGameStateChange {\n  type: EventType;\n  move: IGameStateMove;\n}\n\nclass PlayMaker {\n  gameId: string = \"\";\n  playerId: string = \"\";\n  socket: WebSocket = new WebSocket(\n    \"wss://c0gv6ahxt5.execute-api.eu-west-1.amazonaws.com/Prod\"\n  );\n\n  @observable cardPiles: {\n    position: string;\n    cardIds: number[];\n    pileType?: PileType;\n  }[] = [];\n  @observable cards: IPlayingCard[] = [];\n  @observable players: IPlayer[] = [];\n\n  @observable selectedCardId: number | undefined = undefined;\n\n  init = (gameId: string, playerId: string) => {\n    this.gameId = gameId;\n    this.playerId = playerId;\n    this.cards = this.createDeck(2);\n    this.shuffleCards();\n    this.addPlayers(3);\n\n    this.cardPiles.push({\n      position: \"main\",\n      cardIds: this.cards.map(card => card.id),\n      pileType: PileType.MAIN\n    });\n\n    for (let i = 0; i < 10; i++) {\n      this.cardPiles.push({\n        position: `play_${i}`,\n        cardIds: [],\n        pileType: PileType.PLAY_AREA\n      });\n    }\n\n    // Connection opened\n    this.socket.addEventListener(\"open\", event => {\n      console.log(\"Websocket open\");\n    });\n\n    // Listen for messages\n    this.socket.addEventListener(\"message\", event => {\n      this.updateGameState(event.data);\n    });\n  };\n\n  createDeck = (amount: number) => {\n    const values = [\n      \"K\",\n      \"Q\",\n      \"J\",\n      \"10\",\n      \"9\",\n      \"8\",\n      \"7\",\n      \"6\",\n      \"5\",\n      \"4\",\n      \"3\",\n      \"2\",\n      \"A\"\n    ];\n    const colors = [\"ruder.png\", \"kloer.png\", \"hjerter.png\", \"spar.png\"];\n\n    const deck: IPlayingCard[] = [];\n\n    let cardId = 0;\n    for (let i = 0; i < amount; i++) {\n      for (const color of colors) {\n        for (const value of values) {\n          const points = this.getPointsForCard(color, value);\n\n          deck.push({\n            value: value,\n            color: color,\n            id: cardId,\n            points: points,\n            number: this.getNumberForCard(value)\n          });\n          cardId++;\n        }\n      }\n      for (let i = 0; i < 3; i++) {\n        deck.push({\n          value: \"Joker\",\n          color: \"joker.png\",\n          id: cardId,\n          points: 1,\n          number: 1\n        });\n        cardId++;\n      }\n    }\n\n    return deck;\n  };\n\n  getNumberForCard(value: string) {\n    switch (value) {\n      case \"A\":\n        return 1;\n      case \"K\":\n        return 13;\n      case \"Q\":\n        return 12;\n      case \"J\":\n        return 11;\n      default:\n        return Number(value);\n    }\n  }\n\n  getPointsForCard(color: string, value: string) {\n    if (value === \"A\") {\n      return 1;\n    }\n\n    if (\n      (value === \"2\" && color === \"spar.png\") ||\n      (value === \"10\" && color === \"ruder.png\") ||\n      (value === \"5\" && color === \"spar.png\")\n    ) {\n      return 2;\n    }\n\n    if (\n      (value === \"5\" && color === \"kloer.png\") ||\n      (value === \"4\" && color === \"hjerter.png\")\n    ) {\n      return 3;\n    }\n\n    if (value === \"6\" && color === \"ruder.png\") {\n      return 4;\n    }\n\n    return 0;\n  }\n\n  shuffleCards = () => {\n    let currentIndex = this.cards.length,\n      temporaryValue,\n      randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n\n      // And swap it with the current element.\n      temporaryValue = this.cards[currentIndex];\n      this.cards[currentIndex] = this.cards[randomIndex];\n      this.cards[randomIndex] = temporaryValue;\n    }\n  };\n\n  addPlayers(amount: number) {\n    for (let playerIndex = 1; playerIndex < amount + 1; playerIndex++) {\n      const playerId = `player${playerIndex}`;\n\n      this.players.push({\n        id: playerId,\n        name: \"\",\n        pointsInTotal: 0\n      });\n\n      this.cardPiles.push({\n        position: `${playerId}_${PlayerPiles.HAND}`,\n        cardIds: [],\n        pileType: PileType.PLAYER\n      });\n\n      this.cardPiles.push({\n        position: `${playerId}_${PlayerPiles.SVUPPER}`,\n        cardIds: [],\n        pileType: PileType.PLAYER\n      });\n\n      this.cardPiles.push({\n        position: `${playerId}_${PlayerPiles.POINTS}`,\n        cardIds: [],\n        pileType: PileType.PLAYER\n      });\n\n      this.cardPiles.push({\n        position: `${playerId}_${PlayerPiles.MULLE}`,\n        cardIds: [],\n        pileType: PileType.PLAYER\n      });\n    }\n  }\n\n  dealCardsToAllPlayers(amount: number) {\n    let currentCards = this.getCardsForPile(\"main\");\n\n    for (const player of this.players) {\n      for (let i = 0; i < amount; i++) {\n        const cardIdToBeSent = currentCards.pop();\n        this.emitCardMove(`${player.id}_${PlayerPiles.HAND}`, cardIdToBeSent!);\n      }\n    }\n  }\n\n  getCardsForPile(position: string) {\n    const cardPile = this.cardPiles.filter(\n      cardPile => cardPile.position === position\n    );\n\n    if (!cardPile.length) {\n      return [];\n    }\n\n    return cardPile[0].cardIds;\n  }\n\n  emitCardMove(toPile: string, cardId: number) {\n    const data = {\n      type: EventType.CARD_MOVE,\n      move: {\n        toPile: toPile,\n        cardId: cardId\n      }\n    };\n    this.socket.send(\n      JSON.stringify({ message: \"sendmessage\", data: JSON.stringify(data) })\n    );\n  }\n\n  getPlayingCard(cardId: number | undefined): IPlayingCard {\n    return this.cards.find(card => card.id === cardId)!;\n  }\n\n  @action\n  moveCardFromOnePileToAnother(cardId: number, newPilePosition: string) {\n    for (const pile of this.cardPiles) {\n      if (pile.position === newPilePosition) {\n        if (pile.cardIds.indexOf(cardId) === -1) {\n          pile.cardIds.push(cardId);\n        }\n      } else {\n        pile.cardIds = pile.cardIds.filter(id => id !== cardId);\n      }\n    }\n  }\n\n  takePileHome(fromPile: string) {\n    const cardIds = this.getCardsForPile(fromPile);\n\n    const toPile = `${this.playerId}_${PlayerPiles.POINTS}`;\n\n    for (const cardId of cardIds!) {\n      this.emitCardMove(toPile, cardId);\n    }\n  }\n\n  updateGameState(event: string) {\n    try {\n      const gameStateChange = JSON.parse(event) as IGameStateChange;\n      if (gameStateChange.move) {\n        const pile = this.cardPiles.find(\n          pile => pile.position === gameStateChange.move.toPile\n        );\n        if (pile) {\n          this.moveCardFromOnePileToAnother(\n            gameStateChange.move.cardId,\n            gameStateChange.move.toPile\n          );\n        }\n        this.selectedCardId = undefined;\n      }\n    } catch (e) {\n      console.log(e);\n      return;\n    }\n  }\n\n  selectCard(cardId: number) {\n    this.selectedCardId = cardId;\n  }\n\n  putCard(position: string | undefined) {\n    if (!this.selectedCardId || !position) {\n      return;\n    }\n\n    this.emitCardMove(position, this.selectedCardId);\n    this.selectedCardId = undefined;\n  }\n}\n\nexport default PlayMaker;\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { Card } from \"semantic-ui-react\";\nimport { useDrag, DragSourceMonitor } from \"react-dnd\";\nimport { ItemTypes } from \"../../App\";\nimport PlayMaker from \"../../logic/store\";\n\ninterface IProps {\n  cardId: number;\n  backsideUp: boolean;\n  selectable: boolean;\n  store?: PlayMaker;\n}\n\nconst PlayingCard = inject(\"store\")(\n  observer((props: IProps) => {\n    const { backsideUp, cardId, store } = props;\n\n    const [{ isDragging }, drag] = useDrag({\n      item: { name: cardId, type: ItemTypes.CARD },\n      end: (item: { name: string } | undefined, monitor: DragSourceMonitor) => {\n        const dropResult = monitor.getDropResult();\n        if (item && dropResult) {\n          props.store!.emitCardMove(dropResult.name, Number(item.name));\n        }\n      },\n      collect: monitor => ({\n        isDragging: !!monitor.isDragging()\n      })\n    });\n\n    const card = store!.getPlayingCard(cardId);\n\n    const displayValue = card.value === \"Joker\" ? \"\" : card.value;\n\n    return (\n      <div\n        ref={drag}\n        style={{\n          width: 60,\n          opacity: isDragging ? 0.5 : 1,\n          cursor: \"move\",\n          margin: 5\n        }}\n      >\n        <Card\n          onClick={() => {\n            if (props.selectable) {\n              props.store?.selectCard(props.cardId);\n            }\n          }}\n          style={{ width: 60, height: 80 }}\n        >\n          {backsideUp ? (\n            <img\n              src={\"/mulle-card-game/img/bagside.png\"}\n              alt=\"\"\n              style={{ width: \"100%\" }}\n            />\n          ) : (\n            <div\n              style={{\n                position: \"relative\",\n                height: 80,\n                width: 60,\n                padding: 8,\n                fontWeight: \"bold\",\n                border: \"1px solid #DDD\",\n                borderRadius: 5\n              }}\n            >\n              {card.value === \"Joker\" ? (\n                <>\n                  <img\n                    src={`/mulle-card-game/img/${card.color}`}\n                    alt=\"\"\n                    style={{ width: 50, height: 50 }}\n                  />\n                  <span\n                    style={{\n                      width: 45,\n                      height: 45,\n                      position: \"absolute\",\n                      top: 55,\n                      right: 4,\n                      color: \"black\"\n                    }}\n                  >\n                    Joker\n                  </span>\n                </>\n              ) : (\n                <>\n                  <img\n                    src={`/mulle-card-game/img/${card.color}`}\n                    alt=\"\"\n                    style={{\n                      width: 30,\n                      height: 30,\n                      position: \"absolute\",\n                      top: 5,\n                      right: 15\n                    }}\n                  />\n                  {card.number <= 10 && (\n                    <div\n                      style={{\n                        width: 20,\n                        textAlign: \"center\",\n                        right: 20,\n                        top: 40,\n                        fontSize: 30,\n                        color:\n                          card.color === \"ruder.png\" ||\n                          card.color === \"hjerter.png\"\n                            ? \"red\"\n                            : \"black\",\n                        position: \"absolute\"\n                      }}\n                    >\n                      {card.number}\n                    </div>\n                  )}\n\n                  {card.number > 10 && (\n                    <>\n                      <img\n                        src={`/mulle-card-game/img/${card.number}.png`}\n                        alt=\"\"\n                        style={{\n                          width: 45,\n                          height: 45,\n                          position: \"absolute\",\n                          top: 30\n                        }}\n                      />\n                    </>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n        </Card>\n      </div>\n    );\n  })\n);\n\nexport default observer(PlayingCard);\n","import React from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport PlayMaker from \"../../logic/store\";\nimport PlayingCard from \"../PlayingCard\";\nimport { Card, Popup, Button } from \"semantic-ui-react\";\n\ninterface IProps {\n  cardIds: number[];\n  backsideUp: boolean;\n  piled: boolean;\n  position?: string;\n  title?: string;\n  store?: PlayMaker;\n}\n\nconst PileOfCards = inject(\"store\")(\n  observer((props: IProps) => {\n    const upperCardId = props.cardIds.length\n      ? props.cardIds[props.cardIds.length - 1]\n      : undefined;\n\n    const displayTooltip =\n      props.piled && !props.backsideUp && props.cardIds.length > 1;\n\n    return (\n      <div style={{ position: \"relative\" }}>\n        <div style={{ position: \"absolute\", top: -30 }}>\n          {props.piled && (\n            <Button\n              size={\"small\"}\n              onClick={() => props.store!.putCard(props.position)}\n              icon={\"arrow alternate circle down\"}\n            />\n          )}\n          {props.title && <span>{props.title}</span>}\n        </div>\n        {upperCardId !== undefined && (\n          <>\n            {props.piled ? (\n              <div style={{ paddingTop: 20 }}>\n                <PlayingCard\n                  cardId={upperCardId}\n                  backsideUp={props.backsideUp}\n                  selectable={props.store!.selectedCardId === undefined}\n                />\n                <Button.Group>\n                  <Popup\n                    flowing={true}\n                    trigger={<Button content={props.cardIds.length} />}\n                    content={\n                      <span>\n                        {props.cardIds.map(cardId => (\n                          <PlayingCard\n                            selectable={false}\n                            backsideUp={props.backsideUp}\n                            cardId={cardId}\n                          />\n                        ))}\n                      </span>\n                    }\n                  />\n                  {displayTooltip && (\n                    <Popup\n                      trigger={\n                        <Button\n                          icon={\"globe\"}\n                          onClick={() =>\n                            props.store!.takePileHome(props.position!)\n                          }\n                        />\n                      }\n                      content={\"Tag bunken hjem\"}\n                      inverted={true}\n                    />\n                  )}\n                </Button.Group>\n              </div>\n            ) : (\n              <Card.Group itemsPerRow={10}>\n                {props.cardIds.sort().map(cardId => (\n                  <PlayingCard\n                    backsideUp={props.backsideUp}\n                    cardId={cardId}\n                    selectable={true}\n                  />\n                ))}\n              </Card.Group>\n            )}\n          </>\n        )}\n      </div>\n    );\n  })\n);\n\nexport default PileOfCards;\n","import React from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"../../App\";\nimport PileOfCards from \"../PileOfCards\";\nimport { inject, observer } from \"mobx-react\";\nimport PlayMaker from \"../../logic/store\";\n\ninterface IProps {\n  position: string;\n  backsideUp: boolean;\n  piled: boolean;\n  title?: string;\n  store?: PlayMaker;\n}\n\nconst PlayArea = inject(\"store\")(\n  observer((props: IProps) => {\n    const [{ isOver }, drop] = useDrop({\n      accept: ItemTypes.CARD,\n      drop: () => ({ name: props.position }),\n      collect: monitor => ({\n        isOver: !!monitor.isOver(),\n        getItem: monitor.getItem()\n      })\n    });\n\n    const cardIds = props.store!.getCardsForPile(props.position);\n\n    return (\n      <>\n        <div\n          ref={drop}\n          style={{\n            backgroundColor: isOver ? \"#DDD\" : \"#EEE\",\n            width: 80,\n            height: 130,\n            marginTop: 50\n          }}\n        >\n          <PileOfCards\n            piled={props.piled}\n            cardIds={cardIds}\n            backsideUp={props.backsideUp}\n            title={props.title}\n            position={props.position}\n          />\n        </div>\n      </>\n    );\n  })\n);\n\nexport default PlayArea;\n","import React, { Component } from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { Segment, Grid, Label } from \"semantic-ui-react\";\nimport PileOfCards from \"../PileOfCards\";\nimport PlayMaker, { IPlayer, PlayerPiles } from \"../../logic/store\";\nimport { observable, computed } from \"mobx\";\nimport PlayArea from \"../PlayArea\";\nimport PlayingCard from \"../PlayingCard\";\n\ninterface IProps {\n  playerId: string;\n  store?: PlayMaker;\n}\n@inject(\"store\")\n@observer\nclass Player extends Component<IProps> {\n  @observable player: IPlayer | undefined = undefined;\n\n  componentDidMount() {\n    const player = this.props.store!.players.filter(\n      player => player.id === this.props.playerId\n    );\n    if (player.length === 0) {\n      return;\n    }\n\n    this.player = player[0];\n  }\n\n  @computed\n  get points() {\n    const { store, playerId } = this.props;\n\n    if (!store) {\n      return 0;\n    }\n\n    let pointCardIds = store.getCardsForPile(\n      `${playerId}_${PlayerPiles.POINTS}`\n    );\n\n    let mulleCardIds = store.getCardsForPile(\n      `${playerId}_${PlayerPiles.MULLE}`\n    );\n\n    let svupperCardIds = store.getCardsForPile(\n      `${playerId}_${PlayerPiles.SVUPPER}`\n    );\n\n    let points = 0;\n\n    for (const cardId of pointCardIds\n      .concat(mulleCardIds)\n      .concat(svupperCardIds)) {\n      const card = store.getPlayingCard(cardId);\n      points += card.points;\n    }\n\n    return points;\n  }\n\n  @computed\n  get loosePoints() {\n    const { store, playerId } = this.props;\n\n    if (!store) {\n      return 0;\n    }\n\n    let svuppereCardIds = store.getCardsForPile(\n      `${playerId}_${PlayerPiles.SVUPPER}`\n    );\n\n    let mulleCardIds = store.getCardsForPile(\n      `${playerId}_${PlayerPiles.MULLE}`\n    );\n\n    let points = 0;\n\n    for (const cardId of svuppereCardIds) {\n      points++;\n    }\n\n    for (const cardId of mulleCardIds) {\n      points += 5;\n    }\n\n    return points;\n  }\n\n  render() {\n    if (!this.player) {\n      return null;\n    }\n\n    const { store } = this.props;\n\n    return (\n      <Segment>\n        <h2>{this.props.playerId}</h2>\n        <Segment>\n          <PileOfCards\n            piled={false}\n            backsideUp={this.props.playerId !== this.props.store!.playerId}\n            cardIds={store!.getCardsForPile(\n              `${this.player.id}_${PlayerPiles.HAND}`\n            )}\n          />\n        </Segment>\n        <Segment>\n          <Label content={`Faste point: ${this.points}`} />\n          <Label content={`Løse point: ${this.loosePoints}`} />\n          <Grid columns={3}>\n            <Grid.Column>\n              <PlayArea\n                piled={true}\n                backsideUp={false}\n                position={`${this.player.id}_${PlayerPiles.SVUPPER}`}\n                title={\"Svuppere\"}\n              />\n            </Grid.Column>\n            <Grid.Column>\n              <PlayArea\n                piled={true}\n                backsideUp={true}\n                position={`${this.player.id}_${PlayerPiles.POINTS}`}\n                title={\"Bunken\"}\n              />\n            </Grid.Column>\n            <Grid.Column>\n              <PlayArea\n                piled={true}\n                backsideUp={false}\n                position={`${this.player.id}_${PlayerPiles.MULLE}`}\n                title={\"Muller\"}\n              />\n            </Grid.Column>\n          </Grid>\n        </Segment>\n        <Segment>\n          {store &&\n            store.selectedCardId &&\n            this.props.playerId === store.playerId && (\n              <PlayingCard\n                backsideUp={false}\n                cardId={store.selectedCardId}\n                selectable={false}\n              />\n            )}\n        </Segment>\n      </Segment>\n    );\n  }\n}\n\nexport default Player;\n","import React, { Component } from \"react\";\nimport { observer, inject } from \"mobx-react\";\nimport { observable, computed } from \"mobx\";\nimport \"./App.css\";\nimport {\n  Button,\n  Grid,\n  Input,\n  InputOnChangeData,\n  Header,\n  Label\n} from \"semantic-ui-react\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport PlayArea from \"./components/PlayArea\";\nimport PlayMaker, { PileType } from \"./logic/store\";\nimport PileOfCards from \"./components/PileOfCards\";\nimport Player from \"./components/Player\";\n\nexport const ItemTypes = {\n  CARD: \"card\"\n};\n\ninterface IProps {\n  store?: PlayMaker;\n}\n@inject(\"store\")\n@observer\nclass App extends Component<IProps> {\n  @observable showBackside: boolean = false;\n  @observable putInStack: boolean = false;\n  @observable isOver: boolean = false;\n  @observable dealAmount: string = \"8\";\n\n  componentDidMount() {\n    const playerId = this.getPlayerId();\n    this.props.store!.init(\"test\", playerId);\n  }\n\n  getPlayerId() {\n    const urlParts = window.location.href.split(\"?\");\n\n    if (urlParts.length < 2) {\n      return \"\";\n    }\n\n    const param = urlParts[1].split(\"=\");\n\n    if (param[0] === \"playerId\") {\n      return param[1];\n    }\n\n    return \"\";\n  }\n\n  changeDealAmount = (event: any, input: InputOnChangeData) => {\n    this.dealAmount = input.value;\n  };\n\n  @computed\n  get points() {\n    const { store } = this.props;\n\n    if (!store) {\n      return 0;\n    }\n\n    let points = 0;\n    for (const cardId of store.getCardsForPile(\"main\")) {\n      const card = store.getPlayingCard(cardId);\n      points += card.points;\n    }\n\n    return points;\n  }\n\n  render() {\n    const { store } = this.props;\n\n    if (!store || store.cards.length === 0) {\n      return null;\n    }\n\n    return (\n      <DndProvider backend={Backend}>\n        <Header as={\"h1\"}>Mulle!</Header>\n        {store!.playerId === \"player1\" && (\n          <>\n            <PileOfCards\n              piled={true}\n              cardIds={store.getCardsForPile(\"main\")}\n              backsideUp={true}\n            />\n            <Button\n              onClick={() =>\n                store.dealCardsToAllPlayers(Number(this.dealAmount))\n              }\n            >\n              Fordel kort\n            </Button>\n            <Input value={this.dealAmount} onChange={this.changeDealAmount} />\n            <Label content={this.points} />\n          </>\n        )}\n        <Grid columns={3} divided={true}>\n          <Grid.Row>\n            <Grid.Column>\n              <Player playerId={\"player1\"} />\n            </Grid.Column>\n            <Grid.Column>\n              <Grid columns={5}>\n                {store.cardPiles\n                  .filter(pile => pile.pileType === PileType.PLAY_AREA)\n                  .map(pile => (\n                    <Grid.Column>\n                      <PlayArea\n                        position={pile.position}\n                        piled={true}\n                        backsideUp={false}\n                      />\n                    </Grid.Column>\n                  ))}\n              </Grid>\n            </Grid.Column>\n            <Grid.Column>\n              <Player playerId={\"player2\"} />\n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column></Grid.Column>\n            <Grid.Column>\n              <Player playerId={\"player3\"} />\n            </Grid.Column>\n            <Grid.Column></Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </DndProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'mobx-react'; \nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport PlayMaker from './logic/store';\n\nconst PlayMakerStore = new PlayMaker();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={PlayMakerStore}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}